# Rime 全域自訂設定檔
# 此檔案用於覆蓋 default.yaml 中的預設設定
# 修改後需要「重新部署」才會生效

# 以下為自訂設定內容
__patch:
  # ========================================
  # 候選選單設定
  # ========================================
  - patch/menu/+:
      alternative_select_keys: "0123456789" # 重碼選擇鍵
      page_size: 7 # 選單每頁顯示的候選字數量

  # ========================================
  # ASCII 模式（英文輸入）設定
  # ========================================
  - patch/ascii_composer/+:
      good_old_caps_lock: true # 保留 Caps Lock 的傳統大寫鎖定功能
      switch_key: # 中英文切換按鍵設定 noop:不做動作 clear:切換為英文模式
        Caps_Lock: noop      # Caps Lock 不切換中英文
        Control_L: noop      # 左 Ctrl 不切換
        Control_R: noop      # 右 Ctrl 不切換
        Eisu_toggle: clear   # Eisu 鍵切換為英文
        Shift_L: clear       # 左 Shift 切換為英文
        Shift_R: clear       # 右 Shift 切換為英文

  # ========================================
  # 輸入方案列表
  # ========================================
  # 定義可用的輸入方案
  - patch/schema_list/+:
    - schema: liur # 嘸蝦米

  # ========================================
  # 方案選單設定
  # ========================================
  - patch/switcher/+:
      abbreviate_options: false # 是否縮寫選項名稱
      caption: "〔方案選單〕"     # 選單標題文字
      fold_options: false       # 是否摺疊選項
      hotkeys:                  # 喚起方案選單的快速鍵
        - "Control+Shift+grave" # Ctrl+Shift+`

  # ========================================
  # 按鍵綁定設定
  # ========================================
  - patch/key_binder/bindings/+:
    # ----------------------------------------
    # 空格鍵行為設定
    # ----------------------------------------
    # 以下兩條設定實現：空碼時按空格鍵清空輸入碼
    # 注意：需要在輸入方案中設置 enable_sentence: false
    - { when: composing, accept: space, send: Escape }  # 輸入中按空格清空
    - { when: has_menu, accept: space, send: space }    # 有選單時按空格上字

    # ----------------------------------------
    # 標點符號輸入
    # ----------------------------------------
    # - { when: has_menu, accept: comma, send: comma }  # 輸入逗號 ,
    # - { when: has_menu, accept: minus, send: minus }  # 輸入減號 -
    # - { when: has_menu, accept: equal, send: equal }  # 輸入等號 =
    - { when: has_menu, accept: period, send: period }  # 輸入句號 .

    # ----------------------------------------
    # 功能切換快速鍵
    # ----------------------------------------
    - { when: always, accept: "Control+period", toggle: simplification }      # Ctrl+. 簡繁切換
    - { when: always, accept: "Control+apostrophe", toggle: liu_w2c }         # Ctrl+' 字碼反查
    - { when: always, accept: "Control+slash", toggle: extended_charset }     # Ctrl+/ 擴充字集
    - { when: always, accept: "Shift+space", toggle: full_shape }             # Shift+空格 全半形切換
